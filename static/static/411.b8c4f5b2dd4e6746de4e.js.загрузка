(window.webpackJsonp=window.webpackJsonp||[]).push([[411],{945:function(e,i,t){"use strict";t.r(i);var n=t(2),s=t.n(n),o=t(3),l=t(56),a=".HH-KeySkillsObserver-PositionInput",d=".HH-KeySkillsObserver-KeySkillsInput",c=".HH-KeySkillsObserver-Tags",m=".HH-KeySkillsObserver-Target";function h(e,i){this.$element=s()(e),this.init=function(){var e=this;this.isDataExist=!1,this.position="",this.$target=this.$element.find(m),this.$keySkills=this.$element.find(d),this.$keySkills.on("click",this.updateRecommendations).on("keydown",(function(){e.$keySkills.val()?e.hideRecommendations():e.updateRecommendations()})),this.$keySkills.add(this.$target).on("click",(function(e){e.stopPropagation()})),s()(document).on("click",this.hideRecommendations.bind(this)),l.default.dispatch("HH-Tags-Collections",this.$element.find(c).get(0),(function(i,t){e.recommendedSkillsCollection=t}),1)},this.showRecommendations=function(){this.$target.removeClass("g-hidden")},this.hideRecommendations=function(){this.$target.addClass("g-hidden")},this.updateRecommendations=function(){var e=this;if(!this.$keySkills.val()){var i=this.$element.find(a).val();this.position!==i?s.a.ajax({url:"/shards/key_skills_search_recommendations",data:{position:i}}).then((function(t){var n=t&&t.keySkill&&t.keySkill.length;n&&(e.position=i,e.isDataExist=n,t.keySkill.forEach((function(i){e.recommendedSkillsCollection.add(new e.recommendedSkillsCollection.model({id:i["@id"],name:i.name,selected:!1},{merge:!0}))})),e.recommendedSkillsCollection.trigger("updateAllRecommended"),e.$keySkills.trigger("HH-Tags-UpdateRecommendations"),e.showRecommendations())})):this.isDataExist&&this.showRecommendations()}}.bind(this),this.init(e,i)}i.default=o.default.build({create:function(e,i){return new h(e,i)},componentName:"js/HH/KeySkillsObserver"})}}]);
//# sourceMappingURL=411.b8c4f5b2dd4e6746de4e.js.map