(window.webpackJsonp=window.webpackJsonp||[]).push([[412],{946:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n.n(a),s=n(3),l=n(56),g=n(449);function o(e,t){this.$element=i()(e),this.init=function(){this.$template=i()(g.a.fromElement(i()(".HH-LanguageSelect-Template").get(0))),u.prototype.$template=this.$template,this.$element.find(".HH-LanguageSelect-Block").each((function(){var e=new u(this);e.$element.closest("form").on("reset",e.resetDegree.bind(e))})),this.$element.on("click",".HH-LanguageSelect-AddButton",this.addLanguage.bind(this))},this.addLanguage=function(){var e=new u;e.$element.insertBefore(".HH-LanguageSelect-AddButton"),e.$element.closest("form").on("reset",e.destroy.bind(e))},this.init(e,t)}var h={list:[],add:function(e){e&&-1===this.list.indexOf(e)&&(this.list.push(e),l.default.dispatch("Remove-Available-Language",this,e))},remove:function(e){var t=this.list.indexOf(e);-1!==t&&(this.list.splice(t,1),l.default.dispatch("Add-Available-Language",this,e))}};function u(e){this.init(e||this.$template.clone())}i.a.extend(u.prototype,{init:function(e){this.$element=i()(e),this.$languageSelect=this.$element.find(".HH-LanguageSelect-Select"),this.$degreeSelect=this.$element.find(".HH-LanguageSelect-DegreeSelect"),this.$hiddenInput=this.$element.find(".HH-LanguageSelect-Value"),this.$element.on("change",".HH-LanguageSelect-Select",this.onChangeLanguage.bind(this)).on("change",".HH-LanguageSelect-DegreeSelect",this.onChangeDegree.bind(this)).on("click",".HH-LanguageSelect-DeleteButton",this.destroy.bind(this)),this.$languageSelect.length&&(this.removedLanguageOptions={},l.default.add("Add-Available-Language",this.restoreLanguageOption.bind(this),h),l.default.add("Remove-Available-Language",this.removeLanguageOption.bind(this),h),this.$languageSelect.children().each((function(e){this.orderValue=e})),h.list.forEach(this.removeLanguageOption,this)),this.save()},destroy:function(){this.$element.remove(),h.remove(this.language)},save:function(){this.language=this.$languageSelect.val(),this.degree=this.$degreeSelect.val(),this.$hiddenInput.val("".concat(this.language,".").concat(this.degree)).prop("disabled","does_not_matter"===this.degree),h.add(this.language)},onChangeLanguage:function(){h.remove(this.language),this.save()},onChangeDegree:function(){this.save()},removeLanguageOption:function(e){if(e!==this.language){var t=this.$languageSelect.children().filter('[value="'.concat(e,'"]'));t.length&&(this.removedLanguageOptions[e]=t.detach())}},restoreLanguageOption:function(e){var t=this.$languageSelect.get(0).options;var n=this.removedLanguageOptions[e];if(n){var a=function(e){var n,a=e.get(0).orderValue,i=0,s=t.length-1;if(a>t[s].orderValue)return null;do{n=Math.floor((i+s)/2),a>t[n].orderValue?i=n+=1:s=n}while(i<s);return t[n]}(n);a?n.insertBefore(a):n.appendTo(this.$languageSelect)}},resetDegree:function(){this.$degreeSelect.val("does_not_matter"),this.save()}}),t.default=s.default.build({create:function(e,t){return new o(e,t)},componentName:"js/HH/LanguageSelect"})}}]);
//# sourceMappingURL=412.e413c90fe6b7eddbf754.js.map